*{margin:0;padding:0;box-sizing:border-box}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:20px}.container{max-width:1400px;margin:0 auto;background:#fff;border-radius:20px;padding:40px;box-shadow:0 20px 60px #0000004d}header{text-align:center;margin-bottom:40px}header h1{color:#333;font-size:2.5em;margin-bottom:10px}header p{color:#666;font-size:1.1em}.main-content{display:grid;grid-template-columns:1fr 1fr;gap:40px;margin-bottom:40px}.image-section{display:flex;flex-direction:column;gap:20px}.image-section h2{color:#333;font-size:1.5em;margin-bottom:15px}.upload-area{position:relative}.upload-label{display:flex;align-items:center;justify-content:center;padding:15px 30px;background:#667eea;color:#fff;border-radius:10px;cursor:pointer;transition:background .3s;font-size:1.1em}.upload-label:hover{background:#764ba2}.canvas-container{border:2px solid #ddd;border-radius:10px;overflow:hidden;background:#f5f5f5;min-height:300px;display:flex;align-items:center;justify-content:center;width:100%}.canvas-container canvas{max-width:100%;cursor:crosshair;display:block;touch-action:none}.selected-color-display{background:#f8f9fa;padding:20px;border-radius:10px;border:2px solid #e0e0e0;display:flex;flex-direction:column;gap:15px}.color-info{display:flex;align-items:center;gap:15px}.color-swatch{width:60px;height:60px;border-radius:10px;border:2px solid #ddd;background:#fff;flex-shrink:0}.color-values{display:flex;flex-direction:column;gap:5px}.color-values span{font-family:Courier New,monospace;font-size:.95em;color:#333}.color-label{font-weight:700;color:#667eea!important;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif!important}.grid-section-wrapper{display:flex;flex-direction:column}.grid-section h2{color:#333;font-size:1.5em;margin-bottom:15px}.palette-type-toggle{display:flex;gap:10px;margin-bottom:15px}.palette-type-btn{flex:1;padding:12px 18px;border:2px solid #ddd;background:#fff;color:#666;border-radius:8px;cursor:pointer;font-size:1em;font-weight:600;transition:all .3s}.palette-type-btn:hover{border-color:#667eea}.palette-type-btn.active{background:#667eea;color:#fff;border-color:#667eea}.mode-toggle{display:flex;gap:10px;margin-bottom:20px}.mode-btn{flex:1;padding:15px 20px;border:3px solid #ddd;background:#fff;color:#666;border-radius:10px;cursor:pointer;font-size:1.1em;font-weight:600;transition:all .3s}.mode-btn:hover{border-color:#667eea;transform:translateY(-2px)}.mode-btn.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:#667eea;box-shadow:0 4px 15px #667eea66}.palette-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:20px}.palette-cell{aspect-ratio:1;border:3px solid #ddd;border-radius:10px;cursor:pointer;position:relative;overflow:hidden;background:#fff;transition:border-color .3s,transform .2s}.palette-cell:hover{border-color:#667eea;transform:scale(1.02)}.palette-cell canvas{width:100%;height:100%;display:block}.controls{display:flex;flex-direction:column;gap:15px}.control-group{display:flex;gap:10px;flex-wrap:wrap}.btn{padding:12px 24px;border:2px solid #ddd;background:#fff;color:#333;border-radius:8px;cursor:pointer;font-size:1em;transition:all .3s;flex:1;min-width:120px}.btn:hover:not(:disabled){background:#f5f5f5;border-color:#999}.btn:disabled{opacity:.5;cursor:not-allowed;background:#f0f0f0;color:#999}.btn-primary{background:#667eea;color:#fff;border-color:#667eea}.btn-primary:hover{background:#764ba2;border-color:#764ba2}.instructions{background:#f8f9fa;padding:25px;border-radius:10px;border:2px solid #e0e0e0}.instructions h3{color:#333;margin-bottom:15px;font-size:1.3em}.instructions h4{color:#555;margin-top:15px;margin-bottom:10px}.instructions ol{margin-left:20px;color:#555;line-height:1.8}.instructions li{margin-bottom:8px}@media (max-width: 1024px){.main-content{grid-template-columns:1fr}}@media (max-width: 768px){.container{padding:15px}header h1{font-size:1.8em}header p{font-size:.95em}.image-section{width:100%;max-width:100%}.canvas-container{min-height:200px;max-width:100%}.canvas-container canvas{max-width:100%;max-height:300px;height:auto}.grid-section-wrapper{width:100%;max-width:100%}.palette-grid{width:100%;gap:10px}.palette-cell{width:100%;min-height:0}.palette-cell canvas{touch-action:none;width:100%;height:100%}.controls{flex-direction:column}.btn{width:100%;min-height:48px}.mode-btn,.palette-type-btn{min-height:48px;font-size:.95em;padding:12px 15px}.upload-label{min-height:48px}.instructions{font-size:.85em;padding:20px}.instructions ol{margin-left:15px}.instructions h4{font-size:1em}}@media (max-width: 480px){body{padding:10px}.container{padding:10px;border-radius:15px}header h1{font-size:1.5em}header p{font-size:.9em}.main-content{gap:20px}.palette-grid,.mode-toggle,.palette-type-toggle{gap:8px}.mode-btn,.palette-type-btn{font-size:.85em;padding:10px 12px}.instructions{padding:15px}}.header-content{display:flex;justify-content:space-between;align-items:center;width:100%}.night-mode-toggle{padding:10px 20px;border:2px solid #ddd;background:#fff;border-radius:8px;cursor:pointer;font-size:1.5em;transition:all .3s;flex-shrink:0}.night-mode-toggle:hover{transform:scale(1.1);border-color:#667eea}body:has(.night-mode){background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460)}.night-mode{background:linear-gradient(135deg,#0f0f23,#1a1a3e);color:#e0e0e0}.night-mode header h1{color:#e0e0e0}.night-mode header p{color:#b0b0b0}.night-mode .night-mode-toggle{background:#2a2a4e;border-color:#4a4a6e;color:#f0f0f0}.night-mode .night-mode-toggle:hover{background:#3a3a5e;border-color:#667eea}.night-mode .image-section h2,.night-mode .grid-section h2{color:#e0e0e0}.night-mode .upload-label{background:linear-gradient(135deg,#4a4a8e,#6a4a9e)}.night-mode .upload-label:hover{background:linear-gradient(135deg,#5a5a9e,#7a5aae)}.night-mode .canvas-container{background:#2a2a4e;border-color:#4a4a6e}.night-mode .selected-color-display{background:#1a1a3e;border-color:#3a3a5e}.night-mode .color-swatch{border-color:#4a4a6e;background:#2a2a4e}.night-mode .color-values span{color:#d0d0d0}.night-mode .color-label{color:#8a9aff!important}.night-mode .palette-type-btn{background:#2a2a4e;border-color:#4a4a6e;color:#b0b0b0}.night-mode .palette-type-btn:hover{border-color:#667eea}.night-mode .palette-type-btn.active{background:linear-gradient(135deg,#5a5a9e,#7a5aae);color:#fff;border-color:#667eea}.night-mode .palette-cell{background:#3a3a5e;border-color:#4a4a6e}.night-mode .palette-cell:hover{border-color:#8a9aff}.night-mode .btn{background:#2a2a4e;border-color:#4a4a6e;color:#d0d0d0}.night-mode .btn:hover:not(:disabled){background:#3a3a5e;border-color:#667eea}.night-mode .btn:disabled{background:#1a1a3e;color:#666}.night-mode .btn-primary{background:linear-gradient(135deg,#5a5a9e,#7a5aae);color:#fff;border-color:#667eea}.night-mode .btn-primary:hover{background:linear-gradient(135deg,#6a6aae,#8a6abe);border-color:#7a8aff}.night-mode .instructions{background:#1a1a3e;border-color:#3a3a5e}.night-mode .instructions h3{color:#e0e0e0}.night-mode .instructions h4{color:silver}.night-mode .instructions ol,.night-mode .instructions li{color:#b0b0b0}@media (max-width: 768px){.header-content{flex-direction:row;gap:10px}.header-content>div{flex:1}.night-mode-toggle{font-size:1.3em;padding:8px 15px}}
